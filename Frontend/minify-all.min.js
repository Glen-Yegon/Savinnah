let fs=require("fs"),path=require("path"),UglifyJS=require("uglify-js"),CleanCSS=require("clean-css"),folderPath=__dirname;fs.readdirSync(folderPath).forEach(e=>{(e.endsWith(".min.js")||e.endsWith(".min.css"))&&(fs.unlinkSync(path.join(folderPath,e)),console.log("Deleted: "+e))}),fs.readdirSync(folderPath).forEach(e=>{var r,i,n=path.join(folderPath,e);e.endsWith(".js")&&!e.endsWith(".min.js")&&(i=fs.readFileSync(n,"utf8"),(i=UglifyJS.minify(i)).error?console.error(`Error minifying ${e}:`,i.error):(r=n.replace(".js",".min.js"),fs.writeFileSync(r,i.code,"utf8"),console.log(`Minified: ${e} → `+path.basename(r)))),e.endsWith(".css")&&!e.endsWith(".min.css")&&(i=fs.readFileSync(n,"utf8"),(r=(new CleanCSS).minify(i)).errors.length?console.error(`Error minifying ${e}:`,r.errors):(i=n.replace(".css",".min.css"),fs.writeFileSync(i,r.styles,"utf8"),console.log(`Minified: ${e} → `+path.basename(i))))});